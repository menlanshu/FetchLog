<Window x:Class="FetchLog.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="FetchLog - Log File Search Tool" Height="700" Width="900"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Search Directories Section -->
        <GroupBox Header="Search Directories" Grid.Row="0" Padding="10" Margin="0,0,0,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="100"/>
                </Grid.RowDefinitions>
                <StackPanel Orientation="Horizontal" Grid.Row="0">
                    <Button Name="btnAddDirectory" Content="Add Directory" Click="BtnAddDirectory_Click"/>
                    <Button Name="btnRemoveDirectory" Content="Remove Selected" Click="BtnRemoveDirectory_Click"/>
                    <Button Name="btnClearDirectories" Content="Clear All" Click="BtnClearDirectories_Click"/>
                </StackPanel>
                <ListBox Name="lstDirectories" Grid.Row="1" Margin="5"/>
            </Grid>
        </GroupBox>

        <!-- Filter Options Section -->
        <GroupBox Header="Filter Options" Grid.Row="1" Padding="10" Margin="0,0,0,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Label Content="File Extensions:" Grid.Row="0" Grid.Column="0"/>
                <TextBox Name="txtFileExtensions" Grid.Row="0" Grid.Column="1"
                         ToolTip="Enter file extensions separated by comma (e.g., .log,.txt) or leave empty for all files"/>

                <Label Content="Include Patterns:" Grid.Row="1" Grid.Column="0"/>
                <TextBox Name="txtIncludePatterns" Grid.Row="1" Grid.Column="1"
                         ToolTip="File name patterns to include, separated by comma (e.g., error*,*debug*)"/>

                <Label Content="Exclude Patterns:" Grid.Row="2" Grid.Column="0"/>
                <TextBox Name="txtExcludePatterns" Grid.Row="2" Grid.Column="1"
                         ToolTip="File name patterns to exclude, separated by comma (e.g., temp*,*.bak)"/>

                <Label Content="Content Filter:" Grid.Row="3" Grid.Column="0"/>
                <TextBox Name="txtContentFilter" Grid.Row="3" Grid.Column="1"
                         ToolTip="Search for files containing this text (case-insensitive)"/>
            </Grid>
        </GroupBox>

        <!-- Search Options Section -->
        <GroupBox Header="Search Options" Grid.Row="2" Padding="10" Margin="0,0,0,10">
            <StackPanel>
                <CheckBox Name="chkRecursive" Content="Search subdirectories recursively" IsChecked="True"/>
                <CheckBox Name="chkSearchInZip" Content="Search inside ZIP files (in-memory)" IsChecked="True"/>
                <CheckBox Name="chkCaseSensitive" Content="Case-sensitive content search" IsChecked="False"/>
            </StackPanel>
        </GroupBox>

        <!-- Output Location Section -->
        <GroupBox Header="Output Location" Grid.Row="3" Padding="10" Margin="0,0,0,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox Name="txtOutputPath" Grid.Column="0" IsReadOnly="True"/>
                <Button Name="btnBrowseOutput" Content="Browse..." Grid.Column="1" Click="BtnBrowseOutput_Click"/>
            </Grid>
        </GroupBox>

        <!-- Action Buttons -->
        <StackPanel Orientation="Horizontal" Grid.Row="4" HorizontalAlignment="Center" Margin="0,10">
            <Button Name="btnSearch" Content="Start Search" Click="BtnSearch_Click" Width="120" Height="35"
                    FontWeight="Bold" Background="#FF4CAF50" Foreground="White"/>
            <Button Name="btnCancel" Content="Cancel" Click="BtnCancel_Click" Width="120" Height="35"
                    IsEnabled="False"/>
        </StackPanel>

        <!-- Statistics Section -->
        <GroupBox Header="Search Statistics" Grid.Row="5" Padding="10" Margin="0,10,0,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label Content="Search Time:" Grid.Column="0"/>
                <TextBox Name="txtSearchTime" Grid.Column="1" IsReadOnly="True" Text="0.00s"/>
                <Label Content="Files Found:" Grid.Column="2"/>
                <TextBox Name="txtFilesFound" Grid.Column="3" IsReadOnly="True" Text="0"/>
                <Label Content="Files Copied:" Grid.Column="4"/>
                <TextBox Name="txtFilesCopied" Grid.Column="5" IsReadOnly="True" Text="0"/>
            </Grid>
        </GroupBox>

        <!-- Results Section -->
        <GroupBox Header="Search Results" Grid.Row="6" Padding="10" Margin="0,0,0,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <ListView Name="lvResults" Grid.Row="0">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="File Name" Width="200" DisplayMemberBinding="{Binding FileName}"/>
                            <GridViewColumn Header="Source Path" Width="300" DisplayMemberBinding="{Binding SourcePath}"/>
                            <GridViewColumn Header="Size" Width="100" DisplayMemberBinding="{Binding Size}"/>
                            <GridViewColumn Header="Type" Width="80" DisplayMemberBinding="{Binding FileType}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
                <ProgressBar Name="progressBar" Grid.Row="1" Height="20" Margin="5" Visibility="Collapsed"/>
            </Grid>
        </GroupBox>

        <!-- Status Bar -->
        <StatusBar Grid.Row="8" Height="25">
            <StatusBarItem>
                <TextBlock Name="txtStatus" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
